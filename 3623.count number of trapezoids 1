from typing import List
import collections

class Solution:
    def countTrapezoids(self, points: List[List[int]]) -> int:
        MOD = 10**9 + 7
        cnt = collections.Counter()
        for x, y in points:
            cnt[y] += 1
        combos = []
        for y, c in cnt.items():
            if c >= 2:
                combos.append(c * (c - 1) // 2)
        if len(combos) < 2:
            return 0
        total = 0
        prefix = 0
        for t in combos:
            total = (total + prefix * t) % MOD
            prefix = (prefix + t) % MOD
        return total
